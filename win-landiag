$ip = (Get-NetIPAddress -AddressFamily IPv4 | Where-Object {$_.InterfaceAlias -notmatch "Loopback" -and $_.IPAddress -notlike "169.254*"} | Select-Object -First 1).IPAddress; $mac = (Get-NetAdapter | Where-Object {$_.Status -eq "Up"} | Select-Object -First 1).MacAddress; $gw = (Get-NetRoute -DestinationPrefix "0.0.0.0/0" | Sort-Object RouteMetric | Select-Object -First 1).NextHop; Write-Host "IP:" $ip; Write-Host "MAC:" $mac; Write-Host "Gateway:" $gw; Write-Host "`nTraceroute to Gateway:"; tracert $gw
